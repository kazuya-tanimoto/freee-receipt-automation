# CI/CD設定ガイドライン

## ガイドライン関連ワークフロー

### 1. ガイドラインサイズチェック
- ファイル: `guidelines-size-check.yml`
- 目的: SUMMARY.mdのトークン数を監視
- 制限: 4k tokens以下を強制
- 実行タイミング: PR作成時

### 2. 週次ガイドライン更新
- ファイル: `weekly-guidelines-update.yml`
- 目的: サブモジュールの自動更新
- 実行タイミング: 毎週月曜4時
- 処理内容:
  1. サブモジュールの更新
  2. SUMMARY.mdの再生成
  3. PRの自動作成
  4. CHANGELOGの更新

## CIパスの必須条件
1. ガイドラインサイズチェックの通過
2. 通常ビルド（Turbopack）の通過
3. セキュリティスキャンの通過

## 運用ルール
1. **PR作成時**
   - ガイドラインサイズチェックを必須
   - 超過時は自動fail

2. **週次更新時**
   - 自動PRの作成
   - レビュー後のマージ
   - CHANGELOGの更新

3. **エラー対応**
   - サイズ超過: SUMMARY.mdの要約見直し
   - ビルド失敗: 依存関係の確認
   - セキュリティ警告: 脆弱性の修正 