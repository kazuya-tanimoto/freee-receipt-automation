# TASK-009: system_prompt.md作成

## 📋 タスク概要

**目的**: AI作業時の共通前提・制約を定義するsystem_prompt.md作成  
**重要度**: 高（AI効率化の基盤）  
**難易度**: 中  
**所要時間**: 25分  
**依存関係**: TASK-008完了（AI構造準備済み）

## 🎯 実行内容

### 1. プロジェクト前提情報の整理
- ビジネス背景・目的の要約
- 主要ステークホルダー・制約事項
- 技術スタック・アーキテクチャ概要

### 2. 開発ガイドライン集約
- コーディング規約の重要ポイント
- 品質基準・テスト要件
- セキュリティ・コンプライアンス要件

### 3. freee固有知識の整理
- freee API の特徴・制限
- 経費処理ドメインの基本概念
- 連携時の注意点・ベストプラクティス

## 🚀 詳細手順

### Step 1: 基本情報の集約

#### プロジェクト概要セクション作成
以下の情報をdocs/overview.mdから抽出・要約：
- プロジェクト名・ミッション
- 解決する課題・期待効果
- 主要機能・技術スタック
- 開発チーム構成・責任分担

#### 制約事項セクション作成
技術的・ビジネス的制約を明記：
- freee API の利用制限・レート制限
- セキュリティ・プライバシー要件
- パフォーマンス・スケーラビリティ要件
- 予算・スケジュール制約

### Step 2: 技術ガイドライン統合

#### コーディング規約統合
docs/standards/coding-standards.mdから重要事項抽出：
- TypeScript・React開発規約
- ファイル構成・命名規則
- コメント・ドキュメント記述規則
- AI作業時の行数制限（150行基本、250行絶対）

#### 品質・テスト基準統合
以下の基準を明確化：
- 単体テスト・統合テストの要件
- コードレビュー・承認フロー
- CI/CD パイプライン要件
- セキュリティチェック項目

### Step 3: ドメイン知識整理

#### freee API 基本情報
以下のポイントを整理：
- 認証方式・スコープ
- 主要エンドポイント・データ形式
- エラーハンドリング方法
- レート制限・リトライ戦略

#### 経費処理ドメイン知識
基本概念の定義：
- 勘定科目・税区分
- 申請・承認ワークフロー
- 領収書・証憑の扱い
- 会計基準・法的要件

### Step 4: AI作業最適化設定

#### プロンプト構造化
効果的なAI対話のための構造定義：
- 質問・要求の明確な分類
- コード生成・レビュー・説明の区別
- 段階的な問題解決アプローチ
- フィードバック・修正の反映方法

#### 出力形式・品質基準
AI生成コンテンツの品質確保：
- コード出力時の構造・コメント要件
- ドキュメント生成時の形式・詳細度
- エラー修正・最適化提案の方法
- 複数選択肢提示の基準

## ✅ 完了基準

### 内容完成
- [ ] プロジェクト前提4セクション作成済み
- [ ] 技術ガイドライン統合済み  
- [ ] freee固有知識整理済み
- [ ] AI最適化設定定義済み

### 品質確認
- [ ] 主要情報漏れなし
- [ ] 矛盾・不整合なし
- [ ] AI作業で実際に活用可能
- [ ] 新規参画者理解可能

### 配置・構造確認
- [ ] ai/system_prompt.md として配置
- [ ] Markdown構文エラーなし
- [ ] 適切なセクション構造
- [ ] 関連文書へのリンク整備

## 🔍 重要ポイント

### 情報源の活用
- **docs/overview.md**: ビジネス背景・技術概要
- **docs/standards/coding-standards.md**: 開発規約
- **README.md**: プロジェクト基本情報
- **.devcontainer.json**: 開発環境設定

### 記述時の注意点
- **簡潔性**: AIが理解しやすい明確な文章
- **網羅性**: 重要な制約・要件の漏れなし
- **実用性**: 実際のAI作業で参照可能
- **保守性**: 定期更新が容易な構造

### AI効果検証
作成後に以下で効果確認：
- Claude/ChatGPTでの読み込みテスト
- 実際のコード生成・レビュー作業での活用
- プロンプト効果の定量的・定性的評価

## ⚠️ 注意事項

### 機密情報の扱い
- API キー・シークレット情報は記載しない
- 具体的な顧客情報・個人情報は除外
- 一般的な制約・要件のみ記載

### 更新・保守方針
- プロジェクト重要変更時の更新必須
- 月次での有効性・正確性確認
- AI技術進歩に合わせた最適化

### 他チーム連携
- 新規参画者への説明資料としても活用
- プロジェクト外ステークホルダーとの共有可能
- 技術仕様・設計文書との整合性確保

## 🔄 次タスクへの準備

### TASK-010: glossary.yml作成
system_prompt.mdで使用した専門用語をglossary.ymlで詳細定義

### 連携ポイント
- system_prompt.mdで言及した用語の詳細化
- YAML構造でのカテゴリ分類
- 類義語・関連語の体系的整理

---

**効果的なsystem_prompt.mdにより、AI作業の効率・品質が大幅に向上し、プロジェクト成功に寄与します。**