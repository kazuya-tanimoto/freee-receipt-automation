# PBI-2-1: Gmail API統合

## 説明

メールレシート（Appleサブスクリプションなど）を自動的に取得し、
経費追跡のために処理するGmail APIとの統合を実装します。
これには認証、メールフィルタリング、添付ファイル抽出、処理パイプライン統合が含まれます。

## 受け入れ基準

- Gmail API認証フローが実装されている
- レシートメールを識別するためのメール検索とフィルタリング機能が作成されている
- 以下の機能が実装されている：
  - 設定可能な条件（送信者、件名、日付範囲）に基づくレシートメールの検索
  - メールからのPDF添付ファイルの抽出
  - HTMLメールの処理と必要に応じた関連コンテンツのPDF変換
  - 様々なレシートメール形式の処理（Apple、サブスクリプションサービス等）
- 抽出されたレシートがOCR処理パイプラインに渡される
- メールレシートの処理ステータストラッキングが実装されている
- Gmail API障害に対するエラー処理が実装されている
- Gmail API統合のユニットテストが作成されている
- Gmail API統合のドキュメントが作成されている

## 依存関係

- PBI-1-1: Supabaseプロジェクトセットアップ
- PBI-1-2: ストレージ統合とOCR処理

## 見積もり

5ストーリーポイント（約2-3日）

## 優先度

中 - 自動化にとって重要だが、コア機能に依存する
