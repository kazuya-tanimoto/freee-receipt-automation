# PBI-2-4-1: ファイル命名システム

## 説明

日付、ベンダー、内容情報を組み込んだ領収書用の標準化されたファイル命名システムを実装します。これにより、一貫したファイル整理を保証し、領収書ファイルの効率的な検索とソートを可能にします。

## 実装詳細

### 作成/修正するファイル

1. `src/lib/file-management/naming-strategy.ts` - コア命名ロジック
2. `src/lib/file-management/vendor-detector.ts` - ベンダー名抽出
3. `src/lib/file-management/date-formatter.ts` - 日付フォーマットユーティリティ
4. `src/config/naming-rules.ts` - 命名規則設定
5. `src/lib/file-management/name-sanitizer.ts` - ファイル名のサニタイズ
6. `docs/file-management/naming-conventions.md` - 命名ドキュメント

### 技術要件

- 領収書データから一貫したファイル名を生成
- 日本語と英語のベンダー名をサポート
- 特殊文字と長さ制限を処理
- 衝突を防ぐための一意の名前を保証
- ソート可能な日付プレフィックス形式を維持

### 実装コード

- ファイル命名戦略実装
- ベンダー検出ロジック
- 日付フォーマットユーティリティ
- 名前サニタイズルール
- 設定オプション

## メタデータ

- **ステータス**: 未開始
- **実際のストーリーポイント**: [完了後に記入]
- **作成日**: 2025-06-05
- **開始日**: [日付]
- **完了日**: [日付]
- **所有者**: [AIアシスタントIDまたは人間]
- **レビュアー**: [このPBIをレビューした人]
- **実装メモ**: [完了後の学び]

## 受け入れ基準

- [ ] ファイルが一貫して命名される
- [ ] 名前に日付、ベンダー、金額が含まれる
- [ ] 特殊文字が適切に処理される
- [ ] 名前が日付でソート可能である
- [ ] 重複する名前が防止される
- [ ] 日本語テキストが適切に処理される

## 依存関係

- **必須**: OCRデータ抽出
- **必須**: 領収書メタデータ構造

## テスト要件

- ユニットテスト: 様々な入力での命名ロジック
- 統合テスト: 名前を使用したファイル作成
- エッジケース: 長い名前、特殊文字
- パフォーマンステスト: 一括命名操作

## 見積もり

1ストーリーポイント

## 優先度

高 - ファイル整理の基盤
