# PBI-4-1: メール通知機能

## 説明

レシート処理と取引マッチングの状況についてユーザーに通知するメール通知機能を実装します。
これには通知テンプレートの作成、メール配信の設定、通知設定の実装が含まれます。

## 受け入れ基準

- 以下の機能を持つメール通知システムが実装されている：
  - 週次処理サマリー通知
  - エラー・警告通知
  - アクション必要通知
- 異なる通知タイプ用のメールテンプレートが作成されている：
  - 統計とメトリクスを含む処理サマリーテンプレート
  - 詳細なエラー情報を含むエラー通知テンプレート
  - 明確な指示を含むアクション必要テンプレート
- 通知配信システムが実装されている：
  - メールサービス（SendGridまたは同様のサービス）との統合
  - 定期通知のスケジュール配信
  - 緊急通知の即時配信
- ユーザー通知設定が実装されている：
  - 受信する通知タイプの設定
  - 通知頻度の設定
  - 特定の通知の有効化/無効化
- メールトラッキングと配信ステータス監視が実装されている
- HTMLとプレーンテキストのメール形式がサポートされている
- 通知機能のユニットテストが作成されている
- メール通知システムのドキュメントが作成されている

## 依存関係

- PBI-1-1: Supabaseプロジェクトセットアップ
- PBI-2-4: スケジュール実行セットアップ

## 見積もり

5ストーリーポイント（約2-3日）

## 優先度

中 - ユーザー体験にとって重要だが、コア機能には必須ではない
