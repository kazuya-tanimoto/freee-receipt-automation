# AI駆動開発用PBIテンプレート（セルフレビュー統合版）

## 概要

このテンプレートは、AI駆動開発に最適化されたProduct Backlog Items（PBI）の標準フォーマットです。各PBIは単一のAIセッションで実装可能で、セルフレビュー・チェックリスト要素が統合されています。

## テンプレート構造

```markdown
# PBI-[フェーズ]-[番号]: [タイトル]

## 説明

[実装する必要があることの簡潔な説明 - 2-3文]

## 実装詳細

### 作成/修正するファイル

1. `path/to/file.ts` - [変更の説明]（100行以内）

### 技術要件

- [具体的な技術要件1]
- [具体的な技術要件2]

### 環境変数（該当する場合）

```bash
VARIABLE_NAME=example_value  # [説明]
```

### APIエンドポイント（該当する場合）

- `POST /api/endpoint` - [説明]
  - リクエスト: `{ field: string }`
  - レスポンス: `{ id: string, status: string }`

### インターフェース仕様

```typescript
// 入力インターフェース
interface InputData {
  field: string;
}

// 出力インターフェース  
interface OutputData {
  result: string;
  status: 'success' | 'error';
}
```

## 🎯 実装前チェックリスト（影響範囲分析）

- [ ] **影響範囲確認**: 他PBI機能への悪影響がないか検証
- [ ] **依存関係確認**: 前提となるPBIが完了しているか確認
- [ ] **spec要件確認**: PBI要件がspec仕様と整合しているか確認
- [ ] **リソース確認**: 必要なAPI・環境変数・ライブラリが利用可能か確認

## 🔧 実装ガイドライン

### TooMuch回避指針
- **行数制限**: 1ファイル100行以内を厳守
- **単一責任**: 1PBI = 1つの明確な価値提供
- **直接実装**: ラッパー、抽象化、パターンを避ける

### コード品質基準
- **TypeScript**: 型安全性100%確保
- **エラーハンドリング**: 具体的な型とユーザーフレンドリーなメッセージ
- **JSDoc**: 重要な関数にドキュメント記載

## 受け入れ基準

- [ ] [具体的で測定可能な基準1]
- [ ] [具体的で測定可能な基準2]
- [ ] [具体的で測定可能な基準3]

### 検証コマンド

```bash
# TypeScript検証
yarn tsc --noEmit

# テスト実行
yarn test

```

## ✅ プロフェッショナルセルフレビュー

### 実装完了時必須チェック
- [ ] **影響範囲**: 他PBI機能に悪影響を及ぼしていない
- [ ] **要件達成**: PBI受け入れ基準100%満たしている
- [ ] **シンプル化**: TooMuchな実装を削除しシンプル化実現
- [ ] **テスト**: 必要なテストがパスしている
- [ ] **型安全性**: TypeScript検証にパスしている

### 第三者視点コードレビュー観点
- [ ] **可読性**: 他の開発者が理解できるか
- [ ] **保守性**: 将来の変更に対応できるか  
- [ ] **セキュリティ**: セキュリティリスクがないか
- [ ] **パフォーマンス**: 性能要件を満たしているか

## 📋 完了報告テンプレート

### ✅ セルフチェック結果
- TypeScript: ✅ 0エラー / ❌ Xエラー
- テスト: ✅ すべてパス / ❌ X失敗  
- ドキュメント: ✅ 0エラー / ❌ Xエラー
- 影響範囲: ✅ 他PBI機能に悪影響なし / ❌ 影響あり

### 実装サマリー
- **達成した価値**: [ユーザー視点での具体的な価値]
- **主要な実装**: [重要な技術実装の概要]
- **残課題**: [あれば記載、なければ「なし」]
- **次PBIへの引き継ぎ**: [必要な情報があれば記載]

## メタデータ

- **ステータス**: [未開始/進行中/完了/ブロック]
- **実際のストーリーポイント**: [完了後に記入]
- **作成日**: [日付]
- **開始日**: [日付]
- **完了日**: [日付]
- **担当者**: [AIアシスタントIDまたは人間]
- **レビュアー**: [このPBIをレビューした人]
- **実装メモ**: [完了後の学び]
```

## 重要な原則

### 1PBI基準
- **1機能 = 1ファイル = 100行以内**
- **1日で完了可能**
- **独立してテスト可能**

### TooMuch厳禁
- エンタープライズパターン使用禁止
- 複雑な抽象化禁止
- 過度なエラーハンドリング禁止

### プロフェッショナル品質
- セルフレビュー必須
- 第三者視点での検証必須
- spec要件100%準拠必須